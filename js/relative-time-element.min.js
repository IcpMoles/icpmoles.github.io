var __defProp=Object.defineProperty,_DurationFormat_options,ListFormat,partsTable,twoDigitFormatOptions,DurationFormat,durationRe,unitNames,isDuration,Duration,__classPrivateFieldGet2,__classPrivateFieldSet2,_RelativeTimeElement_instances,_RelativeTimeElement_customTitle,_RelativeTimeElement_updating,_RelativeTimeElement_lang_get,_RelativeTimeElement_renderRoot,_RelativeTimeElement_getFormattedTitle,_RelativeTimeElement_resolveFormat,_RelativeTimeElement_getDurationFormat,_RelativeTimeElement_getRelativeFormat,_RelativeTimeElement_getDateTimeFormat,_RelativeTimeElement_onRelativeTimeUpdated,HTMLElement,emptyDuration,microEmptyDuration,RelativeTimeUpdatedEvent,dateObserver,RelativeTimeElement,root,relative_time_element_define_default,dist_default,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__classPrivateFieldSet=function(e,t,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},__classPrivateFieldGet=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},ListFormatPonyFill=class{formatToParts(e){const t=[];for(const n of e)t.push({type:"element",value:n}),t.push({type:"literal",value:", "});return t.slice(0,-1)}};__name(ListFormatPonyFill,"ListFormatPonyFill"),ListFormat=typeof Intl!="undefined"&&Intl.ListFormat||ListFormatPonyFill,partsTable=[["years","year"],["months","month"],["weeks","week"],["days","day"],["hours","hour"],["minutes","minute"],["seconds","second"],["milliseconds","millisecond"]],twoDigitFormatOptions={minimumIntegerDigits:2},DurationFormat=class{constructor(e,t={}){_DurationFormat_options.set(this,void 0);let n=String(t.style||"short");n!=="long"&&n!=="short"&&n!=="narrow"&&n!=="digital"&&(n="short");let s=n==="digital"?"numeric":n;const o=t.hours||s;s=o==="2-digit"?"numeric":o;const i=t.minutes||s;s=i==="2-digit"?"numeric":i;const a=t.seconds||s;s=a==="2-digit"?"numeric":a;const r=t.milliseconds||s;__classPrivateFieldSet(this,_DurationFormat_options,{locale:e,style:n,years:t.years||n==="digital"?"short":n,yearsDisplay:t.yearsDisplay==="always"?"always":"auto",months:t.months||n==="digital"?"short":n,monthsDisplay:t.monthsDisplay==="always"?"always":"auto",weeks:t.weeks||n==="digital"?"short":n,weeksDisplay:t.weeksDisplay==="always"?"always":"auto",days:t.days||n==="digital"?"short":n,daysDisplay:t.daysDisplay==="always"?"always":"auto",hours:o,hoursDisplay:t.hoursDisplay==="always"?"always":n==="digital"?"always":"auto",minutes:i,minutesDisplay:t.minutesDisplay==="always"?"always":n==="digital"?"always":"auto",seconds:a,secondsDisplay:t.secondsDisplay==="always"?"always":n==="digital"?"always":"auto",milliseconds:r,millisecondsDisplay:t.millisecondsDisplay==="always"?"always":"auto"},"f")}resolvedOptions(){return __classPrivateFieldGet(this,_DurationFormat_options,"f")}formatToParts(e){const n=[],t=__classPrivateFieldGet(this,_DurationFormat_options,"f"),s=t.style,o=t.locale;for(const[s,r]of partsTable){const a=e[s];if(t[`${s}Display`]==="auto"&&!a)continue;const i=t[s],c=i==="2-digit"?twoDigitFormatOptions:i==="numeric"?{}:{style:"unit",unit:r,unitDisplay:i};n.push(new Intl.NumberFormat(o,c).format(a))}return new ListFormat(o,{type:"unit",style:s==="digital"?"short":s}).formatToParts(n)}format(e){return this.formatToParts(e).map(e=>e.value).join("")}},__name(DurationFormat,"DurationFormat"),_DurationFormat_options=new WeakMap,durationRe=/^[-+]?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?)?$/,unitNames=["year","month","week","day","hour","minute","second","millisecond"],isDuration=__name(e=>durationRe.test(e),"isDuration"),Duration=class{constructor(e=0,t=0,n=0,s=0,o=0,i=0,a=0,r=0){this.years=e,this.months=t,this.weeks=n,this.days=s,this.hours=o,this.minutes=i,this.seconds=a,this.milliseconds=r,this.years||(this.years=0),this.sign||(this.sign=Math.sign(this.years)),this.months||(this.months=0),this.sign||(this.sign=Math.sign(this.months)),this.weeks||(this.weeks=0),this.sign||(this.sign=Math.sign(this.weeks)),this.days||(this.days=0),this.sign||(this.sign=Math.sign(this.days)),this.hours||(this.hours=0),this.sign||(this.sign=Math.sign(this.hours)),this.minutes||(this.minutes=0),this.sign||(this.sign=Math.sign(this.minutes)),this.seconds||(this.seconds=0),this.sign||(this.sign=Math.sign(this.seconds)),this.milliseconds||(this.milliseconds=0),this.sign||(this.sign=Math.sign(this.milliseconds)),this.blank=this.sign===0}abs(){return new Duration(Math.abs(this.years),Math.abs(this.months),Math.abs(this.weeks),Math.abs(this.days),Math.abs(this.hours),Math.abs(this.minutes),Math.abs(this.seconds),Math.abs(this.milliseconds))}static from(e){var t;if(typeof e=="string"){const n=String(e).trim(),o=n.startsWith("-")?-1:1,s=(t=n.match(durationRe))===null||t===void 0?void 0:t.slice(1).map(e=>(Number(e)||0)*o);return s?new Duration(...s):new Duration}if(typeof e=="object"){const{years:t,months:n,weeks:s,days:o,hours:i,minutes:a,seconds:r,milliseconds:c}=e;return new Duration(t,n,s,o,i,a,r,c)}throw new RangeError("invalid duration")}static compare(e,t){const n=Date.now(),s=Math.abs(applyDuration(n,Duration.from(e)).getTime()-n),o=Math.abs(applyDuration(n,Duration.from(t)).getTime()-n);return s>o?-1:s<o?1:0}toLocaleString(e,t){return new DurationFormat(e,t).format(this)}},__name(Duration,"Duration");function applyDuration(e,t){const n=new Date(e);return n.setFullYear(n.getFullYear()+t.years),n.setMonth(n.getMonth()+t.months),n.setDate(n.getDate()+t.weeks*7+t.days),n.setHours(n.getHours()+t.hours),n.setMinutes(n.getMinutes()+t.minutes),n.setSeconds(n.getSeconds()+t.seconds),n}__name(applyDuration,"applyDuration");function elapsedTime(e,t="second",n=Date.now()){const i=e.getTime()-n;if(i===0)return new Duration;const s=Math.sign(i),u=Math.abs(i),a=Math.floor(u/1e3),r=Math.floor(a/60),c=Math.floor(r/60),l=Math.floor(c/24),d=Math.floor(l/30),h=Math.floor(d/12),o=unitNames.indexOf(t)||unitNames.length;return new Duration(o>=0?h*s:0,o>=1?(d-h*12)*s:0,0,o>=3?(l-d*30)*s:0,o>=4?(c-l*24)*s:0,o>=5?(r-c*60)*s:0,o>=6?(a-r*60)*s:0,o>=7?(u-a*1e3)*s:0)}__name(elapsedTime,"elapsedTime");function roundToSingleUnit(e,{relativeTo:t=Date.now()}={}){if(t=new Date(t),e.blank)return e;const i=e.sign;let o=Math.abs(e.years),s=Math.abs(e.months),a=Math.abs(e.weeks),n=Math.abs(e.days),r=Math.abs(e.hours),c=Math.abs(e.minutes),l=Math.abs(e.seconds),d=Math.abs(e.milliseconds);d>=900&&(l+=Math.round(d/1e3)),(l||c||r||n||a||s||o)&&(d=0),l>=55&&(c+=Math.round(l/60)),(c||r||n||a||s||o)&&(l=0),c>=55&&(r+=Math.round(c/60)),(r||n||a||s||o)&&(c=0),n&&r>=12&&(n+=Math.round(r/24)),!n&&r>=21&&(n+=Math.round(r/24)),(n||a||s||o)&&(r=0);const h=t.getFullYear();let u=t.getMonth();const m=t.getDate();if(n>=27||o+s+n){const e=new Date(t);e.setFullYear(h+o*i),e.setMonth(u+s*i),e.setDate(m+n*i);const r=e.getFullYear()-t.getFullYear(),d=e.getMonth()-t.getMonth(),c=Math.abs(Math.round((Number(e)-Number(t))/864e5)),l=Math.abs(r*12+d);c<27?(n>=6?(a+=Math.round(n/7),n=0):n=c,s=o=0):l<11?(s=l,o=0):(s=0,o=r*i),(s||o)&&(n=0),u=t.getMonth()}return o&&(s=0),a>=4&&(s+=Math.round(a/4)),(s||o)&&(a=0),n&&a&&!s&&!o&&(a+=Math.round(n/7),n=0),new Duration(o*i,s*i,a*i,n*i,r*i,c*i,l*i,d*i)}__name(roundToSingleUnit,"roundToSingleUnit");function getRelativeTimeUnit(e,t){const n=roundToSingleUnit(e,t);if(n.blank)return[0,"second"];for(const e of unitNames){if(e==="millisecond")continue;const t=n[`${e}s`];if(t)return[t,e]}return[0,"second"]}__name(getRelativeTimeUnit,"getRelativeTimeUnit"),__classPrivateFieldGet2=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},__classPrivateFieldSet2=function(e,t,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},HTMLElement=globalThis.HTMLElement||null,emptyDuration=new Duration,microEmptyDuration=new Duration(0,0,0,0,0,1),RelativeTimeUpdatedEvent=class extends Event{constructor(e,t,n,s){super("relative-time-updated",{bubbles:!0,composed:!0}),this.oldText=e,this.newText=t,this.oldTitle=n,this.newTitle=s}},__name(RelativeTimeUpdatedEvent,"RelativeTimeUpdatedEvent");function getUnitFactor(e){if(!e.date)return 1/0;if(e.format==="duration"||e.format==="elapsed"){const t=e.precision;if(t==="second")return 1e3;if(t==="minute")return 60*1e3}const t=Math.abs(Date.now()-e.date.getTime());return t<60*1e3?1e3:t<60*60*1e3?60*1e3:60*60*1e3}__name(getUnitFactor,"getUnitFactor"),dateObserver=new class{constructor(){this.elements=new Set,this.time=1/0,this.timer=-1}observe(e){if(this.elements.has(e))return;this.elements.add(e);const t=e.date;if(t&&t.getTime()){const t=getUnitFactor(e),n=Date.now()+t;n<this.time&&(clearTimeout(this.timer),this.timer=setTimeout(()=>this.update(),t),this.time=n)}}unobserve(e){if(!this.elements.has(e))return;this.elements.delete(e)}update(){if(clearTimeout(this.timer),!this.elements.size)return;let e=1/0;for(const t of this.elements)e=Math.min(e,getUnitFactor(t)),t.update();this.time=Math.min(60*60*1e3,e),this.timer=setTimeout(()=>this.update(),this.time),this.time+=Date.now()}},RelativeTimeElement=class extends HTMLElement{constructor(){super(...arguments),_RelativeTimeElement_instances.add(this),_RelativeTimeElement_customTitle.set(this,!1),_RelativeTimeElement_updating.set(this,!1),_RelativeTimeElement_renderRoot.set(this,this.shadowRoot?this.shadowRoot:this.attachShadow?this.attachShadow({mode:"open"}):this),_RelativeTimeElement_onRelativeTimeUpdated.set(this,null)}static define(e="relative-time",t=customElements){return t.define(e,this),this}static get observedAttributes(){return["second","minute","hour","weekday","day","month","year","time-zone-name","prefix","threshold","tense","precision","format","format-style","datetime","lang","title"]}get onRelativeTimeUpdated(){return __classPrivateFieldGet2(this,_RelativeTimeElement_onRelativeTimeUpdated,"f")}set onRelativeTimeUpdated(e){__classPrivateFieldGet2(this,_RelativeTimeElement_onRelativeTimeUpdated,"f")&&this.removeEventListener("relative-time-updated",__classPrivateFieldGet2(this,_RelativeTimeElement_onRelativeTimeUpdated,"f")),__classPrivateFieldSet2(this,_RelativeTimeElement_onRelativeTimeUpdated,typeof e=="object"||typeof e=="function"?e:null,"f"),typeof e=="function"&&this.addEventListener("relative-time-updated",e)}get second(){const e=this.getAttribute("second");if(e==="numeric"||e==="2-digit")return e}set second(e){this.setAttribute("second",e||"")}get minute(){const e=this.getAttribute("minute");if(e==="numeric"||e==="2-digit")return e}set minute(e){this.setAttribute("minute",e||"")}get hour(){const e=this.getAttribute("hour");if(e==="numeric"||e==="2-digit")return e}set hour(e){this.setAttribute("hour",e||"")}get weekday(){const e=this.getAttribute("weekday");if(e==="long"||e==="short"||e==="narrow")return e;if(this.format==="datetime"&&e!=="")return this.formatStyle}set weekday(e){this.setAttribute("weekday",e||"")}get day(){var e;const t=(e=this.getAttribute("day"))!==null&&e!==void 0?e:"numeric";if(t==="numeric"||t==="2-digit")return t}set day(e){this.setAttribute("day",e||"")}get month(){const t=this.format;let e=this.getAttribute("month");if(e==="")return;if(e??(e=t==="datetime"?this.formatStyle:"short"),e==="numeric"||e==="2-digit"||e==="short"||e==="long"||e==="narrow")return e}set month(e){this.setAttribute("month",e||"")}get year(){var e;const t=this.getAttribute("year");if(t==="numeric"||t==="2-digit")return t;if(!this.hasAttribute("year")&&(new Date).getUTCFullYear()!==((e=this.date)===null||e===void 0?void 0:e.getUTCFullYear()))return"numeric"}set year(e){this.setAttribute("year",e||"")}get timeZoneName(){const e=this.getAttribute("time-zone-name");if(e==="long"||e==="short"||e==="shortOffset"||e==="longOffset"||e==="shortGeneric"||e==="longGeneric")return e}set timeZoneName(e){this.setAttribute("time-zone-name",e||"")}get prefix(){var e;return(e=this.getAttribute("prefix"))!==null&&e!==void 0?e:this.format==="datetime"?"":"on"}set prefix(e){this.setAttribute("prefix",e)}get threshold(){const e=this.getAttribute("threshold");return e&&isDuration(e)?e:"P30D"}set threshold(e){this.setAttribute("threshold",e)}get tense(){const e=this.getAttribute("tense");return e==="past"?"past":e==="future"?"future":"auto"}set tense(e){this.setAttribute("tense",e)}get precision(){const e=this.getAttribute("precision");return unitNames.includes(e)?e:this.format==="micro"?"minute":"second"}set precision(e){this.setAttribute("precision",e)}get format(){const e=this.getAttribute("format");return e==="datetime"?"datetime":e==="relative"?"relative":e==="duration"?"duration":e==="micro"?"micro":e==="elapsed"?"elapsed":"auto"}set format(e){this.setAttribute("format",e)}get formatStyle(){const e=this.getAttribute("format-style");if(e==="long")return"long";if(e==="short")return"short";if(e==="narrow")return"narrow";const t=this.format;return t==="elapsed"||t==="micro"?"narrow":t==="datetime"?"short":"long"}set formatStyle(e){this.setAttribute("format-style",e)}get datetime(){return this.getAttribute("datetime")||""}set datetime(e){this.setAttribute("datetime",e)}get date(){const e=Date.parse(this.datetime);return Number.isNaN(e)?null:new Date(e)}set date(e){this.datetime=e?.toISOString()||""}connectedCallback(){this.update()}disconnectedCallback(){dateObserver.unobserve(this)}attributeChangedCallback(e,t,n){if(t===n)return;e==="title"&&__classPrivateFieldSet2(this,_RelativeTimeElement_customTitle,n!==null&&(this.date&&__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"m",_RelativeTimeElement_getFormattedTitle).call(this,this.date))!==n,"f"),!__classPrivateFieldGet2(this,_RelativeTimeElement_updating,"f")&&!(e==="title"&&__classPrivateFieldGet2(this,_RelativeTimeElement_customTitle,"f"))&&__classPrivateFieldSet2(this,_RelativeTimeElement_updating,(async()=>{await Promise.resolve(),this.update()})(),"f")}update(){const n=__classPrivateFieldGet2(this,_RelativeTimeElement_renderRoot,"f").textContent||this.textContent||"",i=this.getAttribute("title")||"";let t=i;const s=this.date;if(typeof Intl=="undefined"||!Intl.DateTimeFormat||!s){__classPrivateFieldGet2(this,_RelativeTimeElement_renderRoot,"f").textContent=n;return}const r=Date.now();__classPrivateFieldGet2(this,_RelativeTimeElement_customTitle,"f")||(t=__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"m",_RelativeTimeElement_getFormattedTitle).call(this,s)||"",t&&this.setAttribute("title",t));const a=elapsedTime(s,this.precision,r),o=__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"m",_RelativeTimeElement_resolveFormat).call(this,a);let e=n;o==="duration"?e=__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"m",_RelativeTimeElement_getDurationFormat).call(this,a):o==="relative"?e=__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"m",_RelativeTimeElement_getRelativeFormat).call(this,a):e=__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"m",_RelativeTimeElement_getDateTimeFormat).call(this,s),e?__classPrivateFieldGet2(this,_RelativeTimeElement_renderRoot,"f").textContent=e:this.shadowRoot===__classPrivateFieldGet2(this,_RelativeTimeElement_renderRoot,"f")&&this.textContent&&(__classPrivateFieldGet2(this,_RelativeTimeElement_renderRoot,"f").textContent=this.textContent),(e!==n||t!==i)&&this.dispatchEvent(new RelativeTimeUpdatedEvent(n,e,i,t)),o==="relative"||o==="duration"?dateObserver.observe(this):dateObserver.unobserve(this),__classPrivateFieldSet2(this,_RelativeTimeElement_updating,!1,"f")}},__name(RelativeTimeElement,"RelativeTimeElement"),_RelativeTimeElement_customTitle=new WeakMap,_RelativeTimeElement_updating=new WeakMap,_RelativeTimeElement_renderRoot=new WeakMap,_RelativeTimeElement_onRelativeTimeUpdated=new WeakMap,_RelativeTimeElement_instances=new WeakSet,_RelativeTimeElement_lang_get=__name(function(){var t;return((t=this.closest("[lang]"))===null||t===void 0?void 0:t.getAttribute("lang"))||this.ownerDocument.documentElement.getAttribute("lang")||"default"},"_RelativeTimeElement_lang_get"),_RelativeTimeElement_getFormattedTitle=__name(function(t){return new Intl.DateTimeFormat(__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"a",_RelativeTimeElement_lang_get),{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}).format(t)},"_RelativeTimeElement_getFormattedTitle"),_RelativeTimeElement_resolveFormat=__name(function(t){const n=this.format;if(n==="datetime")return"datetime";if(n==="duration")return"duration";if(n==="elapsed")return"duration";if(n==="micro")return"duration";if((n==="auto"||n==="relative")&&typeof Intl!="undefined"&&Intl.RelativeTimeFormat){const e=this.tense;if(e==="past"||e==="future")return"relative";if(Duration.compare(t,this.threshold)===1)return"relative"}return"datetime"},"_RelativeTimeElement_resolveFormat"),_RelativeTimeElement_getDurationFormat=__name(function(t){const s=__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"a",_RelativeTimeElement_lang_get),a=this.format,o=this.formatStyle,i=this.tense;let n=emptyDuration;a==="micro"?(t=roundToSingleUnit(t),n=microEmptyDuration,(this.tense==="past"&&t.sign!==-1||this.tense==="future"&&t.sign!==1)&&(t=microEmptyDuration)):(i==="past"&&t.sign!==-1||i==="future"&&t.sign!==1)&&(t=n);const r=`${this.precision}sDisplay`;return t.blank?n.toLocaleString(s,{style:o,[r]:"always"}):t.abs().toLocaleString(s,{style:o})},"_RelativeTimeElement_getDurationFormat"),_RelativeTimeElement_getRelativeFormat=__name(function(t){const n=new Intl.RelativeTimeFormat(__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"a",_RelativeTimeElement_lang_get),{numeric:"auto",style:this.formatStyle}),s=this.tense;s==="future"&&t.sign!==1&&(t=emptyDuration),s==="past"&&t.sign!==-1&&(t=emptyDuration);const[o,i]=getRelativeTimeUnit(t);return i==="second"&&o<10?n.format(0,"second"):n.format(o,i)},"_RelativeTimeElement_getRelativeFormat"),_RelativeTimeElement_getDateTimeFormat=__name(function(t){const n=new Intl.DateTimeFormat(__classPrivateFieldGet2(this,_RelativeTimeElement_instances,"a",_RelativeTimeElement_lang_get),{second:this.second,minute:this.minute,hour:this.hour,weekday:this.weekday,day:this.day,month:this.month,year:this.year,timeZoneName:this.timeZoneName});return`${this.prefix} ${n.format(t)}`.trim()},"_RelativeTimeElement_getDateTimeFormat"),root=typeof globalThis!="undefined"?globalThis:window;try{root.RelativeTimeElement=RelativeTimeElement.define()}catch(e){if(!(root.DOMException&&e instanceof DOMException&&e.name==="NotSupportedError")&&!(e instanceof ReferenceError))throw e}relative_time_element_define_default=RelativeTimeElement,dist_default=relative_time_element_define_default;export{relative_time_element_define_default as RelativeTimeElement,RelativeTimeUpdatedEvent,dist_default as default}