<!doctype html><html lang=en-en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>How to setup ROS Noetic in WSL through Ubuntu 20.04 Focal | Mole of Moles</title>
<link rel=stylesheet href=../../css/bundle.min.4bdfa51aed7f6a94cbfeb1947f9430d322c7f5530efff1ae3bde18c571e69aaf.css integrity="sha256-S9+lGu1/apTL/rGUf5Qw0yLH9VMO//GuO94YxXHmmq8=" crossorigin=anonymous><script type=module src=https://icpmoles.github.io/js/relative-time-element.min.js integrity></script></head><body><header><h1>N<sub>A</sub> of Moles</h1><nav><ul><li><a href=../../>Home</a></li><li><a aria-current=true class=ancestor href=../../posts/>Posts</a></li><li><a href=../../tags/>Tags</a></li></ul></nav></header><main><article><h1>How to setup ROS Noetic in WSL through Ubuntu 20.04 Focal</h1><time datetime=2024-02-28T20:01:43+01:00>February 28, 2024</time><p>Guide for the <a href="http://chrome.deib.polimi.it/index.php?title=Robotics">Robotics class</a></p><p>Scope: to install the environment needed for the labs without having to deal with Docker or dual booting in Ubuntu.</p><p>Target: PCs running Windows 10 or up supporting virtualization.</p><p>First you need to set-up WSL in your machine. From a <strong>Windows</strong> command line run:</p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>powershell</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=n>update</span>
</span></span><span class=line><span class=cl><span class=n>wsl</span> <span class=n>install</span> <span class=n>Ubuntu</span><span class=p>-</span><span class=mf>20.04</span></span></span></code></pre></div></div><p>And fill the username and password as you please.</p><p>Now you have should get a linux shell, in other case you can launch it from the start menu or from the dropdown menu of the terminal.</p><p>Let&rsquo;s update some packages as a precaution and then continue.</p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>bash</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt upgrade -y</span></span></code></pre></div></div><p>Now we start dealing with the core ROS installation. These commands are taken from the <a href=https://github.com/osrf/docker_images/blob/df19ab7d5993d3b78a908362cdcd1479a8e78b35/ros/noetic/ubuntu/focal/ros-core/Dockerfile>Docker repository</a></p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>bash</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get update 
</span></span><span class=line><span class=cl>sudo apt-get install -q -y --no-install-recommends dirmngr gnupg2
</span></span><span class=line><span class=cl>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654
</span></span><span class=line><span class=cl>sudo  sh -c <span class=s1>&#39;echo &#34;deb http://packages.ros.org/ros/ubuntu focal main&#34; &gt;&gt; /etc/apt/sources.list.d/ros1-latest.list&#39;</span>
</span></span><span class=line><span class=cl>sudo apt-get update 
</span></span><span class=line><span class=cl>sudo apt-get install -y --no-install-recommends ros-noetic-ros-core<span class=o>=</span>1.5.0-1*
</span></span><span class=line><span class=cl><span class=nb>source</span> <span class=s2>&#34;/opt/ros/noetic/setup.bash&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;source /opt/ros/noetic/setup.bash&#34;</span> &gt;&gt; ~/.bashrc</span></span></code></pre></div></div><p>These are the commands for the &ldquo;base&rdquo; ROS installation taken from <a href=https://github.com/osrf/docker_images/blob/df19ab7d5993d3b78a908362cdcd1479a8e78b35/ros/noetic/ubuntu/focal/ros-base/Dockerfile>here</a></p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>bash</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get update 
</span></span><span class=line><span class=cl>sudo apt-get install --no-install-recommends -y  build-essential  python3-rosdep  python3-rosinstall   python3-vcstools 
</span></span><span class=line><span class=cl>sudo rosdep init 
</span></span><span class=line><span class=cl>rosdep update --rosdistro noetic
</span></span><span class=line><span class=cl>sudo apt-get update 
</span></span><span class=line><span class=cl>sudo apt-get install -y --no-install-recommends ros-noetic-ros-base<span class=o>=</span>1.5.0-1*</span></span></code></pre></div></div><p>Now finally for the &ldquo;perception&rdquo; ROS <a href=https://github.com/osrf/docker_images/blob/df19ab7d5993d3b78a908362cdcd1479a8e78b35/ros/noetic/ubuntu/focal/perception/Dockerfile>package</a></p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>bash</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install -y --no-install-recommends   ros-noetic-perception<span class=o>=</span>1.5.0-1* </span></span></code></pre></div></div><p>Basically in the <code>Dockerfile</code> shared in class what we just did was simply the first section. <strong>This is not a command!!!!</strong></p><div class=codeblock><div class="codelang codeIcon">dockerfile</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=c># Start from the ROS Noetic perception image</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>FROM</span><span class=s> ros:noetic-perception</span></span></span></code></pre></div></div><p>Now we continue with the other installation commands:</p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>bash</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install -y --no-install-recommends nano vim tmux gedit ros-noetic-rqt* net-tools iproute2 ros-noetic-plotjuggler* ros-noetic-foxglove-bridge ros-noetic-turtlesim ros-noetic-tf*</span></span></code></pre></div></div><p>You should already be in the home directory but just in case:</p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>bash</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir -p ~/catkin_ws/src
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~/catkin_ws/
</span></span><span class=line><span class=cl>ln -s /opt/ros/noetic/share/catkin/cmake/toplevel.cmake src/CMakeLists.txt
</span></span><span class=line><span class=cl>catkin_make</span></span></code></pre></div></div><p>To test it:</p><p>In three different tabs execute these commands in this order:</p><div class=codeblock><div class="codelang terminalIcon" contenteditable=true>bash</div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>roscore
</span></span><span class=line><span class=cl>rosrun turtlesim turtlesim_node
</span></span><span class=line><span class=cl>rosrun turtlesim turtle_teleop_key</span></span></code></pre></div></div><div><div>Tags:</div><ul><li><a href=../../tags/ubuntu/>Ubuntu</a></li><li><a href=../../tags/ros/>ROS</a></li></ul></div></article></main><footer><p>Copyright 2024. All rights reserved.</p></footer></body></html>